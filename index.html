<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Peter &amp; Rachel — Wedding</title>

    <!-- Google Fonts for a modern look -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

    <!-- Lightbox (gallery pop-up) -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.4/css/lightbox.min.css" rel="stylesheet" />

    <style>
        :root {
            --primary: #1e3a8a; /* indigo-900 */
            --accent:  #f472b6; /* pink-400 */
            --bg:      #f8fafc;
            --text:    #1f2937;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: "Inter", sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
        }
        /* --- HERO --- */
        header.hero {
            position: relative;
            height: 80vh;
            background: url("cable_wharf.jpg") center/cover no-repeat;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }
        header.hero::after {
            content: "";
            position: absolute;
            inset: 0;
            background: rgba(0, 0, 0, 0.45);
        }
        header.hero .content {
            position: relative;
            color: #fff;
        }
        header.hero h1 {
            font-family: "Playfair Display", serif;
            font-size: clamp(2.5rem, 4vw, 4.5rem);
            margin-bottom: .5rem;
        }
        /* --- NAV --- */
        nav {
            position: sticky;
            top: 0;
            background: #fff;
            padding: .5rem 1rem;
            box-shadow: 0 2px 4px rgba(0,0,0,.05);
            z-index: 50;
        }
        nav ul { list-style: none; display: flex; gap: 1rem; justify-content: center; }
        nav a { text-decoration: none; color: var(--primary); font-weight: 600; }
        /* --- SECTIONS --- */
        section { padding: 4rem 1rem; max-width: 1000px; margin: auto; }
        h2.section-title {
            font-family: "Playfair Display", serif;
            font-size: 2.25rem;
            margin-bottom: 1.5rem;
            text-align: center;
            color: var(--primary);
        }
        /* --- GALLERY --- */
        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1rem;
        }
        .gallery img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: .5rem;
        }
        /* --- FORM --- */
        form#rsvpForm {
            display: grid;
            gap: 1rem;
            max-width: 500px;
            margin: auto;
        }
        form input, form select, form button {
            padding: .75rem 1rem;
            font-size: 1rem;
            border: 1px solid #ccc;
            border-radius: .4rem;
        }
        form button {
            background: var(--primary);
            color: #fff;
            border: none;
            cursor: pointer;
        }
        form button:hover { background: #334155; }
        /* --- TABLE --- */
        table { width: 100%; border-collapse: collapse; margin-top: 1rem; }
        table, th, td { border: 1px solid #e2e8f0; }
        th, td { padding: .5rem; text-align: left; }
        /* --- VIDEO --- */
        .video-container {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 */
            height: 0;
            overflow: hidden;
        }
        .video-container iframe, .video-container video {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
        }
        /* --- FOOTER --- */
        footer {
            background: var(--primary);
            color: #fff;
            text-align: center;
            padding: 1rem;
        }
        /* --- DARK MODE --- */
        @media (prefers-color-scheme: dark) {
            :root { --bg: #0f172a; --text: #f1f5f9; --primary: #93c5fd; }
            nav { background: #1e293b; }
        }
    </style>
</head>
<body>

    <!-- Sticky Nav -->
    <nav>
        <ul>
            <li><a href="#story">Our Story</a></li>
            <li><a href="#schedule">Schedule</a></li>
            <li><a href="#gallery">Gallery</a></li>
            <li><a href="#rsvp">RSVP</a></li>
            <li><a href="#guestlist">Guests</a></li>
            <li><a href="#video">Video</a></li>
            <li><a href="#location">Location</a></li>
        </ul>
    </nav>

    <!-- Hero -->
    <header class="hero" id="home">
        <div class="content">
            <h1>Peter &amp; Rachel</h1>
            <p>September 12, 2026 · Cable Wharf, Halifax</p>
        </div>
    </header>

    <!-- Story -->
    <section id="story">
        <h2 class="section-title">Our Story</h2>
        <p style="text-align:center; max-width:700px; margin:auto;">We first crossed paths during orientation week at <strong>St. Francis Xavier University</strong> in Antigonish, Nova Scotia. Peter had driven down from Peterborough, Ontario, and Rachel had made the quick trip from Dartmouth. Those early days were filled with late‑night study sessions, coffee runs, and enough inside jokes to last a lifetime.</p>
        <p style="text-align:center; max-width:700px; margin:1.25rem auto;">For three years we were inseparable friends—cheering at X‑men games, swapping notes in the library, and exploring every hidden corner of campus. In fourth year friendship quietly turned into something more, and we went on our first “real” date (pizza at Kenny’s, naturally). We’ve been together ever since.</p>
        <p style="text-align:center; max-width:700px; margin:auto;">After graduation we traded textbooks for boarding passes. We danced through <strong>Spain</strong>, chased sunsets in <strong>Italy</strong> and <strong>Croatia</strong>, island‑hopped across <strong>Greece</strong>, and—most memorably—got engaged on a windswept cliff in <strong>Portugal</strong>. Each trip etched new stories into our shared map, and each one made it clearer that home is simply wherever we are together.</p>
        <p style="text-align:center; max-width:700px; margin-top:1.25rem;">Now we’re thrilled to write the next chapter with all of you. Thank you for being part of our adventure—see you on June&nbsp;20th!</p>
    </section>

    <!-- Schedule -->
    <section id="schedule">
        <h2 class="section-title">Schedule</h2>
        <ul style="max-width:500px;margin:auto;list-style:none;display:grid;gap:.75rem;">
            <li><strong>3:00 PM</strong> – Ceremony</li>
            <li><strong>4:00 PM</strong> – Cocktail Hour</li>
            <li><strong>6:00 PM</strong> – Dinner &amp; Dancing</li>
        </ul>
    </section>

    <!-- Gallery -->
    <section id="gallery">
        <h2 class="section-title">Gallery</h2>
        <div class="gallery">
            <!-- Replace with your own images. Each thumb links to full‑size image -->
            <a href="IMG_0016.jpeg" data-lightbox="wedding"><img src="IMG_0016.jpeg" alt="" loading="lazy"></a>
            <a href="IMG_0035.jpeg" data-lightbox="wedding"><img src="IMG_0035.jpeg" alt="" loading="lazy"></a>
            <a href="IMG_0045.jpeg" data-lightbox="wedding"><img src="IMG_0045.jpeg" alt="" loading="lazy"></a>
            <a href="IMG_1069.jpeg" data-lightbox="wedding"><img src="IMG_1069.jpeg" alt="" loading="lazy"></a>
        </div>
    </section>

    <!-- RSVP (Google Form embed is easiest & free) -->
    <section id="rsvp">
        <h2 class="section-title">RSVP</h2>
        <iframe src="https://docs.google.com/forms/d/e/your-form-id/viewform?embedded=true"
                width="100%" height="800" frameborder="0" marginheight="0" marginwidth="0">Loading…</iframe>
    </section>

    <!-- Guest list (auto‑updates from the Google Sheet backing the form) -->
    <section id="guestlist">
        <h2 class="section-title">Guest List</h2>
        <p style="text-align:center;">Updates live from our RSVP sheet.</p>
        <div id="guestTables"></div>
    </section>

    <!-- Video -->
    <section id="video">
        <h2 class="section-title">A Look Back</h2>
        <div class="video-container">
            <!-- Swap for your own hosted video or YouTube link -->
            <iframe src="https://www.youtube.com/embed/dQw4w9WgXcQ" title="Our Video" frameborder="0" allowfullscreen></iframe>
        </div>
    </section>

    <!-- Location -->
    <section id="location">
        <h2 class="section-title">Location</h2>
        <iframe src="https://g.co/kgs/sccc9w4"
                width="100%" height="350" style="border:0;" allowfullscreen></iframe>
    </section>

    <footer>
        <p>© 2025 Peter &amp; Rachel | Built with ❤️</p>
    </footer>

    <!-- Lightbox JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.4/js/lightbox.min.js"></script>

    <script>
        /* Smooth scroll for nav links */
        document.querySelectorAll('nav a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({ behavior: 'smooth' });
            });
        });

        /* =====================  GUEST LIST  =====================
           1. Create a Google Form with fields Name (short answer) & Status (dropdown Yes/No)
           2. After building, Responses ▸ Google Sheets ▸ File ▸ Share ▸ Publish to web ▸ CSV
           3. Copy the CSV link (should look like https://docs.google.com/spreadsheets/d/1abc123…/export?format=csv)
           4. Paste it into sheetURL below.
           ===================================================== */

        const sheetURL = '';

        function csvToJSON(csv) {
            const [headerLine, ...lines] = csv.trim().split('\n');
            const headers = headerLine.split(',');
            return lines.map(l => Object.fromEntries(l.split(',').map((val, i) => [headers[i].trim(), val.trim()])));
        }

        function makeTable(arr) {
            if (!arr.length) return '<p>None yet.</p>';
            const rows = arr.map(r => `<tr><td>${r.Name}</td></tr>`).join('');
            return `<table><tbody>${rows}</tbody></table>`;
        }

        function buildGuestTables(data){
            const yes      = data.filter(r => r.Status === 'Yes');
            const no       = data.filter(r => r.Status === 'No');
            const unknown  = data.filter(r => r.Status === 'Pending' || !r.Status);
            const container = document.getElementById('guestTables');
            container.innerHTML = `
                <h3>Coming (${yes.length})</h3>${makeTable(yes)}
                <h3>Regrets (${no.length})</
